<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Inference-stage Adaptation-projection Strategy Adapts Diffusion Policy to Cross-manipulators Scenarios - Robotics arXiv Daily</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="../assets/styles.css"/>
  <link rel="stylesheet" href="../assets/detail.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"/>
</head>
<body>
  <div class="bg-orbit"></div>
  <header class="site-header">
    <div class="brand">
      <a href="../index.html" class="back-link">← 返回列表</a>
    </div>
  </header>
  <main class="detail-main">
    <article class="detail-card">
      <span class="detail-category">Manipulation</span>
      <h1>Inference-stage Adaptation-projection Strategy Adapts Diffusion Policy to Cross-manipulators Scenarios</h1>
      <div class="detail-meta">
        <span>arXiv: <a href="http://arxiv.org/abs/2509.11621" target="_blank" rel="noreferrer">2509.11621</a></span>
        <span>作者: Alois Knoll Team</span>
        <span>日期: 2025-09-15</span>
      </div>
      <section class="detail-body">
        <h2>📝 详细解读</h2>
        <h2 id="研究背景与动机">研究背景与动机</h2>
<p>当前，扩散策略（Diffusion Policy）作为强大的视觉运动模型，在机器人操作中展现出强大的能力。然而，这些方法通常假设训练和部署期间机械臂配置（机器人本体和末端执行器）是固定的，难以适应新的机械臂配置。当切换到具有不同形态的末端执行器时，机器人的工具中心点（TCP）会发生偏移，如果直接应用预训练策略生成轨迹，可能导致碰撞或抓取失败。现有方法主要通过多具身学习策略来缓解这一限制，但这些方法通常需要收集大量特定于新配置的数据、依赖策略微调、或需要在训练时统一任务分布。当将训练好的策略适应到新的机械臂配置以满足不同的任务要求时，这些方法会产生耗时的适应成本，限制了实际部署的灵活性。</p>
<p>本文针对扩散策略难以零样本适应新硬件和动态任务要求这一痛点，提出了一种新的视角：在策略的推理阶段引入自适应-投影策略，而无需对策略进行重新训练或微调。核心思路是：首先在基础配置上训练一个SE(3)空间的扩散策略；在在线部署时，将策略生成的轨迹进行投影，以满足新硬件和目标施加的运动学及任务特定约束，并动态适应物理差异和任务要求。</p>
<h2 id="方法详解">方法详解</h2>
<p>方法的整体框架分为两个主要部分：(a) 多模态观察与配置自适应，(b) 具有安全约束的轨迹投影推理。输入是当前场景点云和机器人状态，输出是满足新硬件约束的安全轨迹。核心模块是机械臂配置自适应和任务满足与安全约束轨迹投影。</p>
<p><img src="https://arxiv.org/html/2509.11621v1/x1.png" alt="方法总览"></p>
<blockquote>
<p><strong>图3</strong>：方法整体框架。(a) 多模态观察包括经过自适应变换的机器人姿态、场景点云以及稳定的抓取概率图。夹爪形态变异和机械臂运动学变异被编码到机器人状态中。(b) 通过在线优化过程进行安全约束的轨迹投影，强制执行轨迹满足任务和安全约束。</p>
</blockquote>
<p><strong>机械臂配置自适应</strong>：如图2所示，不同机器人的末端执行器基座（EE base）差异和夹爪变异会导致夹爪状态（g）中的抓取宽度差异以及工具中心点（TCP）的差异，主要体现在垂直轴（z）的平移偏移和旋转轴（θx, θy）的旋转偏移。这些差异会导致策略预测的动作不一致或任务失败。</p>
<p><img src="https://arxiv.org/html/2509.11621v1/x2.png" alt="姿态适应"></p>
<blockquote>
<p><strong>图2</strong>：为新机械臂配置适应机器人姿态。基础配置（Franka + 夹爪 G5），新配置（Kuka + 夹爪 G6）。(a)-(d) 展示了TCP偏移以及通过角度适应确保末端执行相同任务（如倒水）的原理。</p>
</blockquote>
<p>对于平移偏移，定义了从新夹爪参数映射到基础夹爪参数的表达式，包括高度和抓取宽度的缩放。对于旋转偏移，核心思想是调整俯仰角使得末端执行器尖端达到相同的位置。具体地，通过公式 θx* = arcsin((d1/d2) sin θx) 计算适应后的角度，并在策略执行过程中通过迭代计算适应的动作。在执行策略时，将变换后的姿态 S_rob&#39; = (x, y, z(i)&#39;, θ(i)&#39;, g(i)&#39;) 作为观察输入给策略 πθ，以维持跨夹爪和机械臂的轨迹一致性。</p>
<p><strong>任务满足与安全约束轨迹投影</strong>：配置自适应对齐了几何参数，但夹爪形态的视觉感知差异仍可能导致不安全的轨迹变化。为保证约束满足，将一个投影层集成到DDIM去噪过程中。修改后的反向扩散步骤为：a_t^{k-1} = Proj_C( μ_k( a_t^k, εθ(a_t^k, o_t, k) ) )，其中 Proj_C(·) 通过以下两步强制执行安全约束C。</p>
<ol>
<li><strong>约束感知去噪</strong>：为提升效率，投影仅在最后几个去噪步骤（k ≤ 5）激活。在每一步k，通过求解一个二次规划问题来找到最小的校正偏移 ν_t^k*，使得轨迹满足安全边界约束（如与桌面距离）和任务边界约束（如倒水角度）。</li>
<li><strong>时间一致性强制执行</strong>：为维持策略Ta步动作范围内的安全性，将上述约束扩展为累积约束，考虑从当前时刻开始未来多步动作的叠加效应。投影后的动作 a_t^k* = Φ^{-1}[ Φ(a_t^k) + ν_t^k* ] 保证了累积轨迹始终安全。</li>
</ol>
<p>与现有方法相比，本文的创新点在于：1）在推理阶段引入自适应-投影策略，实现了对新机械臂和任务的零样本适应，无需重新训练或微调策略；2）明确处理了包括平移和旋转在内的TCP偏移问题；3）通过累积约束优化确保了多步动作序列的时空安全一致性。</p>
<h2 id="实验与结果">实验与结果</h2>
<p>实验在真实的拾放（pick-and-place）、推动（pushing）和倒茶（pouring）任务上进行，跨越不同的机械臂（Franka Panda, Kuka iiwa 14）和多种末端执行器（柔性夹爪、Robotiq 2F/3F夹爪、3D打印设计）。每个任务策略使用基础配置（Franka+特定夹爪）收集的约60条演示进行训练，训练方案与Simple DP3框架一致。</p>
<p><strong>关键对比实验</strong>：在拾放任务中，对比了Diffusion Policy (DP)、Diffusion Policy 3D (DP 3D)、BC-z以及本文方法的变体（Ours w/o AP, Ours w/o G_prob*）。评估场景包括：同机器人不同夹爪、不同物体、以及放置到不同高度的平台。</p>
<p><img src="https://arxiv.org/html/2509.11621v1/figure/gmap-certainty_map_star0.169.jpg" alt="抓取知识"></p>
<blockquote>
<p><strong>图4</strong>：夹爪无关的抓取知识。机器人姿态和夹爪变体的动态变化导致视觉观察（包括RGB-D图像和物体抓取概率图）发生变化，经过处理的稳定抓取概率图 G_prob* 提供了稳定的视觉信息。</p>
</blockquote>
<p><strong>关键实验结果</strong>：</p>
<ol>
<li><strong>跨夹爪拾放（Case 1）</strong>：使用训练见过的Franka机器人和粉色方块。基础夹爪G0上，所有方法成功率均不高（20%-100%）。当切换到其他未见过的夹爪（G1-G5）时，原始DP和DP 3D方法成功率大幅下降（0%-60%），而完整版本文方法（Ours）在所有夹爪上均取得了80%-100%的高成功率。消融实验显示，移除自适应投影（Ours w/o AP）或稳定的抓取概率图（Ours w/o G_prob*）都会导致性能显著下降。</li>
<li><strong>跨物体拾放（Case 2）</strong>：使用Franka机器人和未见过的香蕉物体。本文方法在大多数夹爪上仍保持60%-100%的成功率，显著优于基线方法（0%-60%）。</li>
<li><strong>跨机械臂拾放（Case 3）</strong>：使用未见过的Kuka机器人和更高的放置平台（22cm）。原始DP和DP 3D方法完全失败（0%成功率），而本文方法在Kuka配合两种夹爪（G5, G6）上均取得了80%的成功率。</li>
</ol>
<p><strong>消融实验总结</strong>：表1的结果清晰展示了各组件贡献。自适应投影模块（AP）是适应新硬件几何差异的核心，缺少它则无法处理TCP偏移。稳定的抓取概率图（G_prob*）增强了策略对夹爪形态视觉变化的鲁棒性，特别是在处理新物体时。两者结合才能实现最优的跨配置泛化性能。</p>
<p><strong>其他任务定性结果</strong>：在推动和倒茶任务中，本文方法也成功地将策略从基础配置（Franka+特定夹爪）迁移到了新的机械臂（Kuka）和夹爪（Robotiq 3F）上，完成了相应的任务目标，证明了方法的通用性。</p>
<h2 id="总结与启发">总结与启发</h2>
<p>本文的核心贡献在于：1）提出了一种在训练好的扩散策略推理阶段引入的自适应-投影策略，能够调整和优化轨迹生成，以抵消因切换机械臂配置引起的SE(3)空间TCP偏移问题，确保在不重新训练或微调策略的情况下完成任务并满足新任务要求。2）为自适应-投影过程设计了任务和安全约束的通用公式化，并利用累积轨迹优化过程来保持轨迹的时间一致性。3）在跨夹爪和跨机械臂的真实机器人操作任务上进行了验证，展示了高成功率。</p>
<p>论文提到的局限性包括：1）自适应模块中的映射参数需要通过离线校准获得，这需要对新硬件的尺寸进行机械测量。2）投影优化过程可能会增加单步推理的计算时间，尽管通过仅在最后几步激活进行了缓解。</p>
<p>本文工作对后续研究的启示在于：1）为基于生成模型的策略提供了一种在推理阶段灵活整合硬件先验和任务约束的通用框架。2）展示了将几何自适应与基于优化的安全投影相结合的有效性，为处理现实世界中机器人和任务的多样性提供了一条可行路径。3）强调了在处理跨配置泛化时，同时考虑几何运动学差异和感知外观差异的重要性。</p>

      </section>
      <section class="detail-tldr">
        <h2>💡 一句话总结</h2>
        <p>本文针对扩散策略在未经训练的机械臂上泛化性能差、适应新任务成本高的问题，提出了一种推理阶段适应-投影策略。该方法首先在SE(3)空间训练一个基础扩散策略；在线部署时，通过投影操作将策略生成的轨迹动态适配到新机械臂的物理约束（如工具中心点偏移、夹爪宽度）与任务需求（如障碍物高度），实现零样本适应。实验在多种真实机械臂（如Franka Panda, Kuka iiwa）和末端执行器上验证了该方法在抓取、推动、倾倒等任务中的有效性，取得了高成功率。</p>
      </section>
      <div class="detail-actions">
        <a href="http://arxiv.org/abs/2509.11621" target="_blank" rel="noreferrer" class="btn">查看 arXiv 原文</a>
        <a href="../index.html" class="btn btn-outline">返回列表</a>
      </div>
    </article>
  </main>
  <footer class="site-footer">
    <span>数据抓取来源于 Robotics arXiv Daily</span>
    <span>本页由 GitHub Actions 定时更新</span>
  </footer>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
    onload="renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false}],throwOnError:false})"></script>
</body>
</html>