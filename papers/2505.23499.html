<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Centroidal Trajectory Generation and Stabilization based on Preview Control for Humanoid Multi-contact Motion - Robotics arXiv Daily</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="../assets/styles.css"/>
  <link rel="stylesheet" href="../assets/detail.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"/>
</head>
<body>
  <div class="bg-orbit"></div>
  <header class="site-header">
    <div class="brand">
      <a href="../index.html" class="back-link">← 返回列表</a>
    </div>
  </header>
  <main class="detail-main">
    <article class="detail-card">
      <span class="detail-category">Robotics (cs.RO)</span>
      <h1>Centroidal Trajectory Generation and Stabilization based on Preview Control for Humanoid Multi-contact Motion</h1>
      <div class="detail-meta">
        <span>arXiv: <a href="http://arxiv.org/abs/2505.23499" target="_blank" rel="noreferrer">2505.23499</a></span>
        <span>作者: Murooka, Masaki, Morisawa, Mitsuharu, Kanehiro, Fumio</span>
        <span>日期: 2025/05/29</span>
      </div>
      <section class="detail-body">
        <h2>📝 详细解读</h2>
        <h2 id="研究背景与动机">研究背景与动机</h2>
<p>人形机器人通过利用手和脚进行多接触运动，可以发挥其高自由度身体的潜力，实现移动和操作。这类运动的规划与控制是近十年的研究重点。为了降低维度和计算成本，许多研究聚焦于机器人质心动力学，而非全身动力学。然而，即使专注于质心动力学，由于其非线性和接触约束，实现能在亚毫秒级别执行的模型预测控制（MPC）仍然非常困难。</p>
<p>当前主流方法是基于二次规划（QP）的MPC，它对预测时域内所有采样时刻的输入/状态变量施加包括接触力约束在内的等式和不等式约束。这导致约束维度大，即使使用最先进的QP求解器，也难以在亚毫秒内求解。</p>
<p>本文针对MPC计算成本高的关键痛点，提出了一种全新的视角：采用预览控制来替代传统的MPC。预览控制不显式地考虑这些时域约束，仅需运行时的一次矩阵乘法，无需迭代计算，从而显著降低了计算成本。本文核心思路是：结合预览控制进行在线质心轨迹生成，辅以质心状态反馈来增强对扰动的鲁棒性，并通过力矩分配来满足接触约束，从而实现稳定、快速的人形机器人动态多接触运动。</p>
<h2 id="方法详解">方法详解</h2>
<p>整体控制框架如图1所示，主要包括质心在线轨迹生成和稳定控制两大模块。系统输入是预先规划或手动给定的手足接触位置序列，输出是用于全身控制器的关节位置指令。机器人采用关节位置控制。</p>
<p><img src="https://arxiv.org/html/2505.23499v1/x1.png" alt="方法框架"></p>
<blockquote>
<p><strong>图1</strong>：人形机器人多接触运动的控制系统整体组件。主要包括基于预览控制的质心在线轨迹生成，以及包含质心状态反馈和力矩分配的稳定控制。</p>
</blockquote>
<p><strong>1. 质心在线轨迹生成</strong><br>此模块基于预览控制生成6自由度（位置和方向）的质心轨迹及其对应的合外力/力矩。它分为两个子部分：6-DoF预览控制和力矩投影。</p>
<ul>
<li><p><strong>6-DoF预览控制</strong>：该方法将质心动力学线性化并构建状态空间模型。对于线性（位置）动力学，状态为CoM位置、速度、加速度（(c_*, \dot{c}<em>*, \ddot{c}</em><em>)），输入为CoM加加速度（(\dddot{c}<em>*)），输出为CoM位置和合外力（(c</em>*, \bar{f}<em>*)）。这与经典的双足步行预览控制不同，后者的输出是ZMP。本文选择此输出定义是为了支持通用的多接触运动。对于角（方向）动力学，在做了强近似假设（忽略关节速度引起的角动量、假设基座惯性矩阵为常数对角阵、忽略欧拉角转换矩阵）后，构建了类似的状态方程：状态为欧拉角及其导数（(\alpha</em>*, \dot{\alpha}_</em>, \ddot{\alpha}<em>*)），输入为角加加速度（(\dddot{\alpha}</em><em>)），输出为欧拉角和合力矩（(\alpha_</em>, \bar{n}_*)）。</p>
<p>给定参考的CoM和合外力/力矩轨迹（参考力/力矩设为零，参考CoM由简单规则如接触点中心确定），通过最小化一个二次型目标函数（跟踪输出误差并惩罚输入大小），利用预览控制理论可以计算出最优输入。最优输入公式为反馈项（当前状态）和前馈项（未来参考输出）的加权和。由于状态方程仅依赖于机器人质量，只要质量不变，反馈增益和前馈增益矩阵就是固定的。该计算仅涉及矩阵乘法，计算量极低。</p>
</li>
<li><p><strong>力矩投影</strong>：预览控制生成的合外力矩 (\bar{\boldsymbol{w}}^p) 可能不可行，因为它没有考虑环境作用于机器人的接触力所受到的约束（如摩擦锥、无拉力、压力中心在支撑多边形内）。</p>
<p><img src="https://arxiv.org/html/2505.23499v1/x2.png" alt="接触约束"></p>
<blockquote>
<p><strong>图2</strong>：力矩分配中的接触约束示意图。展示了每个接触点力需要满足的约束条件。</p>
</blockquote>
<p>因此，需要通过一个力矩分配QP问题，将合外力矩分配到各个激活的接触点上，同时严格满足接触约束。这个过程将预览控制输出的合外力矩 (\bar{\boldsymbol{w}}^p) 修正为可行的合外力矩 (\bar{\boldsymbol{w}}^c)。</p>
</li>
</ul>
<p><strong>2. 稳定控制</strong><br>此模块用于补偿质心状态的误差，增强抗干扰能力。它接收当前估计的质心状态 (\boldsymbol{r})、预览控制生成的计划质心状态 (\boldsymbol{r}^p) 以及力矩分配后的可行合外力矩 (\bar{\boldsymbol{w}}^c)，并输出稳定化后的目标质心状态 (\boldsymbol{r}^d) 和目标合外力矩 (\bar{\boldsymbol{w}}^d)。</p>
<p>稳定控制本质上是一个比例控制器，对质心位置和方向误差进行反馈修正。论文的一个重要见解是，推导出在双足步行这一特定情况下，所提出的质心控制可简化为运动发散分量（DCM）的比例控制，并建立了两种控制器增益参数之间的关系。</p>
<p><strong>创新点</strong>：与现有方法相比，本文的核心创新在于：1) 将原本用于双足步行ZMP跟踪的预览控制，重新定义输出（CoM与力/力矩）并扩展至6-DoF，以处理通用多接触运动；2) 通过“预览控制（无约束快速生成）+ 后处理力矩投影（保证可行性）”的管道，替代了计算昂贵的带约束MPC，实现了计算效率的质的提升；3) 提供了一个统一框架，无需调整参数即可处理从双足步行到复杂多接触（如扶梯、爬梯）的各种运动。</p>
<h2 id="实验与结果">实验与结果</h2>
<p><strong>实验设置</strong>：所有实验均在仿真环境中进行。使用的人形机器人模型是HRP-5P。实验平台未明确说明，但涉及动力学仿真。控制周期为5ms（200Hz）。预览窗口为2秒（400个采样点）。</p>
<p><strong>对比的Baseline</strong>：论文主要将所提方法的性能（计算速度、运动能力）与传统的基于MPC或轨迹优化的方法进行定性对比，强调了计算效率上的巨大优势。在消融实验中，对比了完整方法与移除某些模块（如力矩投影、稳定控制）后的效果。</p>
<p><strong>关键实验结果</strong>：</p>
<ol>
<li><p><strong>计算效率</strong>：所提方法能够在线顺序生成质心轨迹并进行稳定控制，<strong>总计算时间小于1毫秒</strong>。这是已知的、不依赖于双足特定动力学（如LIPM）的、能处理通用多接触运动的最快质心轨迹生成与控制方法之一。</p>
</li>
<li><p><strong>运动能力</strong>：在仿真中，机器人成功完成了多种具有挑战性的动态多接触运动，包括：</p>
<ul>
<li>平地双足行走（图4-图6）</li>
<li>上下带有扶手的楼梯（图7-图12）</li>
<li>攀爬垂直梯子（图13-图19）</li>
</ul>
<p><img src="https://arxiv.org/html/2505.23499v1/x4.png" alt="平地行走"></p>
<blockquote>
<p><strong>图4</strong>：平地双足行走的仿真实验序列。</p>
</blockquote>
<p><img src="https://arxiv.org/html/2505.23499v1/x7.png" alt="扶手楼梯"></p>
<blockquote>
<p><strong>图7</strong>：上下扶手楼梯的仿真实验序列。</p>
</blockquote>
<p><img src="https://arxiv.org/html/2505.23499v1/x13.png" alt="垂直爬梯"></p>
<blockquote>
<p><strong>图13</strong>：攀爬垂直梯子的仿真实验序列。</p>
</blockquote>
</li>
<li><p><strong>轨迹与力曲线</strong>：论文展示了在扶手楼梯运动中，生成的CoM位置、速度轨迹（图8）以及各接触点的法向力（图9）。在垂直爬梯运动中，展示了CoM位置和基座方向轨迹（图14）、合外力/力矩（图15）以及各接触点力（图16）。这些曲线表明方法能生成平滑、可行的运动。</p>
<p><img src="https://arxiv.org/html/2505.23499v1/x8.png" alt="楼梯运动轨迹"></p>
<blockquote>
<p><strong>图8</strong>：扶手楼梯运动中的CoM位置和速度轨迹。</p>
</blockquote>
<p><img src="https://arxiv.org/html/2505.23499v1/x9.png" alt="楼梯接触力"></p>
<blockquote>
<p><strong>图9</strong>：扶手楼梯运动中各接触点的法向力。</p>
</blockquote>
</li>
<li><p><strong>消融实验</strong>：论文通过垂直爬梯实验验证了各模块的必要性（图17-图19）。</p>
<ul>
<li><strong>无力矩投影</strong>：如果不进行力矩分配，直接使用预览控制输出的合外力矩，会导致接触力违反约束（如出现拉力），机器人立即坠落。</li>
<li><strong>无稳定控制</strong>：如果移除质心状态反馈稳定控制，机器人在受到初始扰动后，无法纠正误差，最终也会坠落。</li>
<li><strong>完整方法</strong>：在同样扰动下，完整方法能稳定地完成爬梯任务。</li>
</ul>
<p><img src="https://arxiv.org/html/2505.23499v1/x17.png" alt="消融实验-无投影"></p>
<blockquote>
<p><strong>图17</strong>：消融实验：无力矩投影，机器人因接触力不可行而坠落。</p>
</blockquote>
<p><img src="https://arxiv.org/html/2505.23499v1/x18.png" alt="消融实验-无稳定"></p>
<blockquote>
<p><strong>图18</strong>：消融实验：无稳定控制，机器人在扰动下无法恢复而坠落。</p>
</blockquote>
<p><img src="https://arxiv.org/html/2505.23499v1/x19.png" alt="消融实验-完整"></p>
<blockquote>
<p><strong>图19</strong>：消融实验：完整方法在扰动下成功稳定并完成爬梯。</p>
</blockquote>
</li>
<li><p><strong>假设验证</strong>：论文通过分析爬梯运动中的数据（图10-图12，图14-图16），评估了角动量近似假设的合理性。结果显示，尽管忽略了关节运动角动量、假设了常对角惯性矩阵并忽略了欧拉角转换，但实际与近似的角动量变化趋势一致，合力矩跟踪误差在可接受范围内，证明这些强近似在实践中是有效的。</p>
</li>
</ol>
<h2 id="总结与启发">总结与启发</h2>
<p><strong>核心贡献</strong>：</p>
<ol>
<li>提出了一种基于预览控制的机器人质心在线轨迹生成方法，其计算成本极低（亚毫秒级），通过避免显式的时域约束处理，显著优于传统的MPC方法。</li>
<li>构建了一个统一的控制系统，无需更改参数即可处理人形机器人的双足步行和包含手部接触的多接触运动，并揭示了其与经典DCM控制的内在联系。</li>
<li>在仿真中充分验证了方法的有效性，机器人能够完成平地行走、扶手楼梯、垂直爬梯等多种挑战性动态多接触运动。</li>
</ol>
<p><strong>局限性</strong>：</p>
<ol>
<li>方法依赖于对质心角动力学的多项强近似假设。尽管仿真实验验证了其有效性，但在更极端或高速动态运动中的普适性仍需进一步检验。</li>
<li>接触序列（手足接触位置和时序）需要由上层规划器或人工给定，本文未解决接触顺序的在线优化问题。</li>
<li>所有实验均在仿真中进行，尚未在实体机器人上验证。</li>
</ol>
<p><strong>对后续研究的启示</strong>：</p>
<ol>
<li>证明了“无约束快速生成 + 后处理可行性修正”这一管道在机器人实时运动控制中的潜力，为平衡计算复杂度与运动性能提供了新思路。</li>
<li>所提出的统一控制框架为开发能无缝切换不同运动模式（行走、爬梯、操作）的通用人形机器人控制器奠定了基础。</li>
<li>未来的工作自然包括实体机器人实验、集成接触序列优化、以及探索在更复杂动态任务中放松或改进角动量近似假设的方法。</li>
</ol>

      </section>
      <section class="detail-tldr">
        <h2>💡 一句话总结</h2>
        <p>本文针对人形机器人多接触运动中质心轨迹在线生成与稳定控制的实时性问题，提出基于预览控制的解决方案。传统模型预测控制（MPC）因需处理全部采样点约束而计算成本高，新方法采用预览控制替代MPC，结合质心状态反馈提升抗扰动能力及力分布满足接触约束，从而大幅降低计算负担。仿真实验表明，该方法能在1毫秒内完成2秒（400采样点）预览的质心轨迹生成与稳定控制，是目前处理通用多接触运动最快的质心控制方法之一。</p>
      </section>
      <div class="detail-actions">
        <a href="http://arxiv.org/abs/2505.23499" target="_blank" rel="noreferrer" class="btn">查看 arXiv 原文</a>
        <a href="../index.html" class="btn btn-outline">返回列表</a>
      </div>
    </article>
  </main>
  <footer class="site-footer">
    <span>数据来源：<a href="https://jiangranlv.github.io/robotics_arXiv_daily/" target="_blank">Robotics arXiv Daily</a></span>
    <span>由 GitHub Actions 自动更新 · AI 摘要仅供参考</span>
  </footer>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
    onload="renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false}],throwOnError:false})"></script>
</body>
</html>