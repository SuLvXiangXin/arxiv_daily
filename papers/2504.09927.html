<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Efficient Task-specific Conditional Diffusion Policies: Shortcut Model Acceleration and SO(3) Optimization - Robotics arXiv Daily</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="../assets/styles.css"/>
  <link rel="stylesheet" href="../assets/detail.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"/>
</head>
<body>
  <div class="bg-orbit"></div>
  <header class="site-header">
    <div class="brand">
      <a href="../index.html" class="back-link">← 返回列表</a>
    </div>
  </header>
  <main class="detail-main">
    <article class="detail-card">
      <span class="detail-category">Robotics (cs.RO)</span>
      <h1>Efficient Task-specific Conditional Diffusion Policies: Shortcut Model Acceleration and SO(3) Optimization</h1>
      <div class="detail-meta">
        <span>arXiv: <a href="http://arxiv.org/abs/2504.09927" target="_blank" rel="noreferrer">2504.09927</a></span>
        <span>作者: Yu, Haiyong, Jin, Yanqiong, He, Yonghao, Sui, Wei</span>
        <span>日期: 2025/04/14</span>
      </div>
      <section class="detail-body">
        <h2>📝 详细解读</h2>
        <h2 id="研究背景与动机">研究背景与动机</h2>
<p>在具身智能领域，模仿学习是机器人研究的关键方向之一。基于扩散模型的扩散策略方法，凭借其强大的生成能力和在高维连续控制任务中的出色表现，受到了广泛关注。然而，当前主流方法存在三个关键局限性：1) <strong>推理效率低</strong>：传统的扩散策略依赖于迭代去噪，导致推理效率低下、响应缓慢，难以满足实时机器人控制的需求。2) <strong>任务特定条件建模不足</strong>：在多任务场景下，现有方法难以有效捕获不同任务之间的共性与特性，缺乏高效利用任务特定数据的能力。3) <strong>动作空间表示不合理</strong>：在欧氏空间中使用欧拉角、四元数或旋转矩阵表示旋转，会分别带来奇异性、双覆盖或冗余性问题，不利于扩散过程的稳定和精确。</p>
<p>本文针对扩散策略在机器人控制中面临的精度与实时性挑战，提出了一个统一、高效的条件扩散策略头。核心思路是：将无分类器条件引导与基于捷径模型的加速相结合，以高效生成任务特定的动作；同时，在捷径模型中，将旋转的扩散过程建模在SO(3)李群流形上，以提升旋转估计的准确性和稳定性。</p>
<h2 id="方法详解">方法详解</h2>
<p>本文提出了无分类器捷径扩散策略。其整体目标是对条件分布 $p(\mathbf{A} | \mathbf{O}, \mathbf{C})$ 进行建模，将高维观测 $\mathbf{O}$ 和任务条件 $\mathbf{C}$ 转化为鲁棒的动作序列 $\mathbf{A}$。</p>
<p><img src="https://arxiv.org/html/2504.09927v1/extracted/6357961/fig/overview.png" alt="方法总览"></p>
<blockquote>
<p><strong>图1</strong>：无分类器捷径扩散策略（CF-SDP）与SO(3)旋转表示的整体框架。模型接受观测、任务条件和带噪声的动作作为输入，预测对应的噪声（或捷径方向），其中动作中的旋转部分采用SO(3)表示。框架支持基于CNN或Transformer的架构实现。</p>
</blockquote>
<p>方法的核心包含三个关键部分：</p>
<p><strong>1. 无分类器条件的捷径扩散策略 (CF-SDP)</strong><br>为了加速推理，本文引入了捷径模型。其核心思想是让模型能够通过一步或少数几步采样生成高质量动作。具体而言，对于每个任务，定义前向扩散过程为从干净动作数据 $\mathbf{A}_1$ 到噪声 $\mathbf{A}_0 \sim \mathcal{N}(0, \mathbf{I})$ 的线性插值：$\mathbf{A}_i^t = (1-t)\mathbf{A}_0 + t\mathbf{A}_1$，其中 $t$ 为时间步。速度 $\mathbf{v}_i^t$ 定义为从噪声指向真实数据的方向：$\mathbf{v}_i^t = \mathbf{A}_1 - \mathbf{A}_0$。</p>
<p>捷径模型的关键创新在于，它不仅以时间步 $t$ 为条件，还以期望的步长 $d$ 为条件。模型学习预测一个“捷径” $s(\mathbf{A}_i^t, \mathbf{O}_i^t, t, d)$，即从当前点 $\mathbf{A}_i^t$ 到下一步 $\mathbf{A}_i^{t+d}$ 的归一化方向。因此，采样更新公式为：$\mathbf{A}_i^{t+d} = \mathbf{A}_i^t + s(\mathbf{A}_i^t, \mathbf{O}_i^t, t, d) d$。这允许模型根据不同的采样预算（步长 $d$）进行自适应推理。</p>
<p>训练时，模型 $s_\theta(\mathbf{A}_i^t, \mathbf{O}_i^t, t, d)$ 通过最小化均方误差损失来估计真实的捷径方向。损失函数设计利用了捷径模型的自一致性属性，确保模型在任何步长序列下的预测保持一致。</p>
<p><strong>2. SO(3)流形上的旋转扩散</strong><br>为解决旋转表示问题，本文将旋转的扩散过程定义在SO(3)李群流形上。具体做法是在其切空间（欧氏空间）中使用各向同性高斯分布定义前向和反向过程。对于旋转分量 $\mathbf{R} \in SO(3)$，前向过程在切空间中添加噪声，反向过程则通过学习的模型在切空间中预测去噪方向，再通过指数映射映射回SO(3)流形。这为旋转提供了一个连续、无奇异的表示，并与平移等其他动作参数协调优化。</p>
<p><strong>3. 策略头实现与条件整合</strong><br>如图1所示，整体框架是一个条件扩散策略头。任务特定条件 $\mathbf{C}$（如任务标识符、语言指令）与观测 $\mathbf{O}$、带噪声的动作 $\mathbf{A}_t$ 一起输入到网络中。本文采用了<strong>无分类器引导</strong>策略，即在训练时随机丢弃条件信息（以一定概率将 $\mathbf{C}$ 置为空），使模型同时学习有条件生成和无条件生成。在推理时，通过调整有条件输出和无条件输出的权重，可以灵活控制生成动作对任务条件的遵从程度。网络主干可以采用CNN或Transformer架构。</p>
<p><img src="https://arxiv.org/html/2504.09927v1/extracted/6357961/fig/head_rgba.png" alt="策略头细节"></p>
<blockquote>
<p><strong>图2</strong>：策略头架构细节图。展示了观测编码器、条件编码器与动作解码器的集成方式，以及SO(3)旋转分量的处理流程。</p>
</blockquote>
<h2 id="实验与结果">实验与结果</h2>
<p><strong>实验设置</strong>：评估在RoboTwin仿真平台和真实世界场景中进行。任务主要涵盖多种Pick-and-Place操作。对比的基线方法包括：基于DDIM的Diffusion Policy、Consistency Policy以及Flow Matching。</p>
<p><strong>关键定量结果</strong>：</p>
<ol>
<li><strong>推理速度</strong>：在仿真环境中，CF-SDP相比DDIM-based Diffusion Policy实现了近5倍的加速（FPS从约10提升至约50）。</li>
</ol>
<p><img src="https://arxiv.org/html/2504.09927v1/extracted/6357961/fig/fps_comparison.png" alt="FPS对比"></p>
<blockquote>
<p><strong>图4</strong>：不同方法的帧率（FPS）对比。CF-SDP（橙色）的推理速度显著高于DDIM（蓝色）和Consistency Policy（绿色），接近Flow Matching（红色），同时保持了更高的性能。</p>
</blockquote>
<ol start="2">
<li><strong>任务成功率</strong>：在多个任务中，CF-SDP在显著提升速度的同时，保持了与原始DDIM扩散策略相当甚至更高的任务成功率。</li>
</ol>
<p><img src="https://arxiv.org/html/2504.09927v1/extracted/6357961/fig/different_task_st.png" alt="任务成功率"></p>
<blockquote>
<p><strong>图3</strong>：不同任务上的成功率对比。CF-SDP（橙色）在大多数任务上达到了与DDIM（蓝色）相当的成功率，同时推理步数大大减少（1步 vs. 100步）。</p>
</blockquote>
<p><strong>消融实验</strong>：论文通过消融研究验证了各组件贡献。</p>
<ul>
<li><strong>无分类器条件引导</strong>：有效提升了模型对任务条件的响应能力和生成动作的针对性。</li>
<li><strong>捷径模型</strong>：是推理加速的核心，使一步采样成为可能。</li>
<li><strong>SO(3)旋转表示</strong>：相较于欧氏空间表示，能产生更稳定、准确的旋转估计，特别是在需要复杂旋转的任务中。</li>
</ul>
<p><strong>定性结果</strong>：真实世界实验展示了CF-SDP在复杂操作任务中的有效性，如精确抓取和放置不同形状的物体。</p>
<p><img src="https://arxiv.org/html/2504.09927v1/extracted/6357961/fig/real_world.jpg" alt="真实实验场景"></p>
<blockquote>
<p><strong>图5</strong>：真实机器人实验平台设置。</p>
</blockquote>
<p><img src="https://arxiv.org/html/2504.09927v1/extracted/6357961/fig/rw_1.png" alt="真实实验序列1"></p>
<blockquote>
<p><strong>图6-图15</strong>：一系列真实世界Pick-and-Place任务的执行序列截图。展示了CF-SDP策略控制机器人成功完成对盒子、杯子、瓶子等多种物体的抓取和放置任务，证明了其在实际场景中的鲁棒性和准确性。</p>
</blockquote>
<h2 id="总结与启发">总结与启发</h2>
<p><strong>核心贡献</strong>：</p>
<ol>
<li>提出了<strong>无分类器捷径扩散策略（CF-SDP）</strong>，将无分类器条件引导与捷径模型加速相结合，在保证任务性能的同时，实现了扩散推理效率的近5倍提升，使实时机器人控制成为可能。</li>
<li>将扩散建模<strong>扩展到SO(3)流形</strong>，在捷径模型的框架内定义了基于切空间各向同性高斯分布的前向与反向过程，确保了旋转估计的准确性和稳定性。</li>
<li>在仿真与真实机器人任务上进行了全面实验，验证了该方法在效率与性能上的优越性。</li>
</ol>
<p><strong>局限性</strong>：论文提到，该方法仍然依赖于高质量的任务特定专家数据收集。此外，在SO(3)流形上设计合适的损失函数以平衡旋转与平移等参数的优化，也是一个持续的挑战。</p>
<p><strong>后续研究启示</strong>：</p>
<ol>
<li><strong>条件机制探索</strong>：可以进一步研究更高效或更细粒度的条件信息（如视觉-语言模型特征）融合方式。</li>
<li><strong>扩展应用场景</strong>：将CF-SDP框架应用于更复杂的、长视野的机器人操作任务或移动操作任务。</li>
<li><strong>表示学习</strong>：继续探索对非欧几里得数据（如力/力矩、接触信息）更合理的扩散建模方式。</li>
</ol>

      </section>
      <section class="detail-tldr">
        <h2>💡 一句话总结</h2>
        <p>本文针对传统扩散策略迭代去噪导致的推理效率低、响应慢，阻碍实时机器人控制的问题，提出Classifier-Free Shortcut Diffusion Policy (CF-SDP)。该方法集成无分类器指导和快捷加速，以高效生成任务特定动作；同时将扩散建模扩展至SO(3)流形，在切空间中用各向同性高斯分布定义过程，确保旋转估计稳定准确。实验表明，与基于DDIM的扩散策略相比，CF-SDP实现近5倍推理加速，且保持任务性能，在仿真和真实场景中均验证了其优越性。</p>
      </section>
      <div class="detail-actions">
        <a href="http://arxiv.org/abs/2504.09927" target="_blank" rel="noreferrer" class="btn">查看 arXiv 原文</a>
        <a href="../index.html" class="btn btn-outline">返回列表</a>
      </div>
    </article>
  </main>
  <footer class="site-footer">
    <span>数据来源：<a href="https://jiangranlv.github.io/robotics_arXiv_daily/" target="_blank">Robotics arXiv Daily</a></span>
    <span>由 GitHub Actions 自动更新 · AI 摘要仅供参考</span>
  </footer>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
    onload="renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false}],throwOnError:false})"></script>
</body>
</html>