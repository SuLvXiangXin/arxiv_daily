<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>A Nonlinear MPC Framework for Loco-Manipulation of Quadrupedal Robots with Non-Negligible Manipulator Dynamics - Robotics arXiv Daily</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="../assets/styles.css"/>
  <link rel="stylesheet" href="../assets/detail.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"/>
</head>
<body>
  <div class="bg-orbit"></div>
  <header class="site-header">
    <div class="brand">
      <a href="../index.html" class="back-link">← 返回列表</a>
    </div>
  </header>
  <main class="detail-main">
    <article class="detail-card">
      <span class="detail-category">Manipulation</span>
      <h1>A Nonlinear MPC Framework for Loco-Manipulation of Quadrupedal Robots with Non-Negligible Manipulator Dynamics</h1>
      <div class="detail-meta">
        <span>arXiv: <a href="http://arxiv.org/abs/2507.22042" target="_blank" rel="noreferrer">2507.22042</a></span>
        <span>作者: Kaveh Akbari Hamed Team</span>
        <span>日期: 2025-07-29</span>
      </div>
      <section class="detail-body">
        <h2>📝 详细解读</h2>
        <h2 id="研究背景与动机">研究背景与动机</h2>
<p>目前，模型预测控制（MPC）结合简化模板模型（如质心动量模型或单刚体模型）已成为动态足式运动轨迹优化的强大框架。然而，当足式机器人执行移动操作任务时，复杂性显著增加。现有许多方法，特别是基于MPC的方法，通常围绕kino-centroidal模型构建，它们近似或完全忽略了机械臂本身的完整动力学。这种简化在机械臂动力学相对于机器人本体不可忽略时（例如，在15公斤的Unitree Go2四足机器人上集成4.4公斤的Kinova机械臂，其质量比达29%，高度比达216%）会限制系统的鲁棒性和稳定性。本文针对这一具体痛点，提出了一种新的视角：如何将完整阶的机械臂动力学系统性地集成到用于移动操作的实时高效非线性MPC算法中？其核心思路是提出一种分解策略，通过刚性完整约束将用于运动的简化模板模型与机械臂的完整动力学模型耦合，形成一个统一的NMPC框架，实现对运动状态和机械臂关节扭矩的同时优化。</p>
<h2 id="方法详解">方法详解</h2>
<p>本文提出了一种分层最优控制架构。整体框架包含一个高层轨迹规划器和一个低层全身控制器。</p>
<p><img src="https://arxiv.org/html/2507.22042v1/Figures/Overview03.jpg" alt="方法框架总览"></p>
<blockquote>
<p><strong>图2</strong>：提出的分层控制框架概览。高层是一个基于分解方法的非线性MPC轨迹规划器，同时处理运动模板模型和完整阶机械臂模型；低层是一个非线性全身控制器，用于跟踪运动模板模型的最优轨迹，而机械臂的最优扭矩命令则被直接应用。</p>
</blockquote>
<p><strong>高层NMPC规划器（60 Hz）</strong>：这是本文的核心。它采用分解策略，将系统动态模型分为两个通过交互力耦合的子系统：</p>
<ol>
<li><strong>运动模板模型</strong>：采用单刚体模型，状态为 $x^{\text{SRB}} := \text{col}(p, \dot{p}, \theta, \omega) \in \mathbb{R}^{12}$，控制输入为地面反力 $u^{\text{SRB}}$。其离散动力学为 $x^{\text{SRB}}(t+1) = f^{\text{SRB}}(x^{\text{SRB}}(t), u^{\text{SRB}}(t), \lambda^{\text{int}}(t))$，其中 $\lambda^{\text{int}} := \text{col}(f^{\text{int}}, \tau^{\text{int}}) \in \mathbb{R}^{6}$ 是SRB与机械臂之间的交互力/力矩。</li>
<li><strong>机械臂完整模型</strong>：为进行扭矩级控制，采用机械臂的浮基动力学模型，状态为 $x^{\text{arm}} := \text{col}(q^{\text{arm}}, \dot{q}^{\text{arm}}) \in \mathbb{R}^{20}$，控制输入为关节扭矩 $u^{\text{arm}}$。其离散动力学为 $x^{\text{arm}}(t+1) = f^{\text{arm}}(x^{\text{arm}}(t), u^{\text{arm}}(t), \lambda^{\text{int}}(t))$。</li>
<li><strong>完整约束</strong>：为确保机械臂基座与机器人本体刚性连接，施加完整约束 $\varphi(p, \theta, q^{\text{arm}}) = 0$。通过对该约束进行二次微分，得到一个涉及控制输入和交互力的动态一致性条件：$\ddot{\varphi}(x^{\text{SRB}}(t), x^{\text{arm}}(t), u^{\text{SRB}}(t), u^{\text{arm}}(t), \lambda^{\text{int}}(t)) = 0$。</li>
</ol>
<p>NMPC优化问题将上述两个子系统的动力学方程以及完整约束的加速度形式作为等式约束，决策变量包括未来时域内的 $x^{\text{SRB}}, u^{\text{SRB}}, x^{\text{arm}}, u^{\text{arm}}, \lambda^{\text{int}}$。目标函数旨在跟踪参考轨迹，并最小化控制输入和交互力。这种形式化使得NMPC能够同时优化机器人的运动轨迹和机械臂的关节扭矩，并显式地调节两者间的动态交互，而无需预先解析求解复杂的耦合动力学。</p>
<p><strong>低层控制器（500 Hz）</strong>：高层NMPC求解得到的最优状态和地面反力轨迹 $(x^{\text{SRB}}, u^{\text{SRB}})$ 被发送给一个基于二次规划和虚拟约束的低层非线性全身控制器进行跟踪。同时，NMPC求解得到的最优机械臂关节扭矩命令 $u^{\text{arm}}$ 被直接应用于机械臂执行器。</p>
<p><strong>创新点</strong>：与现有主要基于kino-centroidal模型并忽略机械臂完整动力学的方法相比，本文的创新具体体现在：1）提出了一个分解策略，将简化运动模板与完整阶机械臂动力学通过约束耦合，而非简单叠加或忽略；2）由此导出了一个统一的NMPC公式，能够同时、实时地优化简化运动状态和完整机械臂状态及关节扭矩；3）该框架显式地将交互力 $\lambda^{\text{int}}$ 作为优化变量进行调节，从而更好地处理机械臂动态操作对本体平衡产生的显著影响。</p>
<h2 id="实验与结果">实验与结果</h2>
<p><strong>实验平台与基线</strong>：硬件实验在15公斤的Unitree Go2四足机器人（搭载4.4公斤、4自由度的扭矩控制Kinova机械臂）上进行。数值仿真用于大规模评估。对比的基线方法是基于kino-centroidal模型的NMPC方法。</p>
<p><strong>关键实验结果</strong>：</p>
<ol>
<li><strong>多样化移动操作任务</strong>：所提框架在硬件上成功完成了多种任务，包括在崎岖地形（木块）上运动并携带1公斤负载、抵抗外部推力扰动、推/拉未建模的货车（质量不确定性高达机器人基座质量的125%）、开门/抽屉/冰箱门以及抓放操作。</li>
</ol>
<p><img src="https://arxiv.org/html/2507.22042v1/Figures/TwoSnaphsots02.jpg" alt="硬件实验快照1"></p>
<blockquote>
<p><strong>图1</strong>：硬件实验展示。(a) 在木块上小跑并携带1公斤负载；(b) 抵抗外部推力扰动。证明了框架在动态和干扰下的鲁棒性。</p>
</blockquote>
<ol start="2">
<li><strong>大规模仿真对比</strong>：在200个随机生成的地形上进行仿真，比较所提方法与基线kino-centroidal NMPC的成功率。</li>
</ol>
<p><img src="https://arxiv.org/html/2507.22042v1/x1.png" alt="仿真对比结果"></p>
<blockquote>
<p><strong>图4</strong>：在随机地形上的成功率对比。所提出的基于分解的NMPC方法实现了 <strong>58%</strong> 的更高鲁棒运动成功率（蓝条），显著优于基线kino-centroidal NMPC方法（红条）。</p>
</blockquote>
<ol start="3">
<li><strong>消融实验</strong>：通过仿真分析了框架中不同组件的重要性，比较了：A) 完整所提方法，B) 无交互力调节（设 $\lambda^{\text{int}}=0$），C) 无完整约束（即机械臂与本体解耦）三种配置的性能。</li>
</ol>
<p><img src="https://arxiv.org/html/2507.22042v1/x2.png" alt="消融实验"></p>
<blockquote>
<p><strong>图5</strong>：消融研究结果。完整方法（配置A）性能最佳。移除交互力调节（B）或完整约束（C）均会导致性能显著下降，证明了同时优化交互力和强制执行动态耦合约束的必要性。</p>
</blockquote>
<ol start="4">
<li><strong>动态性能评估</strong>：通过一个“扔球”任务的仿真，展示了所提框架处理高速动态操作的能力。</li>
</ol>
<p><img src="https://arxiv.org/html/2507.22042v1/x3.png" alt="动态操作性能"></p>
<blockquote>
<p><strong>图6</strong>：动态投掷任务的性能。所提框架能够生成协调的全身运动，在机械臂快速投掷动作的同时，通过调整脚步和身体姿态来补偿巨大的动态干扰。</p>
</blockquote>
<p><strong>消融实验总结</strong>：完整方法（配置A）在任务完成度和效率上均表现最好。配置B（无交互力调节）和配置C（无完整约束）的性能严重下降，这验证了本文两个核心设计——在优化中显式调节交互力 $\lambda^{\text{int}}$ 以及通过完整约束强制执行SRB与机械臂动力学的动态耦合——对于在机械臂动力学不可忽略时实现鲁棒移动操作至关重要。</p>
<h2 id="总结与启发">总结与启发</h2>
<p><strong>核心贡献</strong>：</p>
<ol>
<li><strong>提出一种分解策略</strong>：将用于动态足式运动的简化模板模型（SRB）与机械臂的完整阶动力学模型通过刚性完整约束进行耦合。</li>
<li><strong>开发一个统一的实时NMPC框架</strong>：基于该分解策略，能够同时优化简化运动状态、输入以及完整机械臂状态和关节扭矩，并以60Hz频率运行。</li>
<li><strong>首次在小型四足机器人平台上实现</strong>：针对动力学不可忽略的、扭矩可控的较重机械臂，实现了动态移动操作，并验证了其在扰动、负载变化和不平地形下的鲁棒性。</li>
</ol>
<p><strong>局限性</strong>：论文提到，当前的框架假设机械臂与机器人本体的连接点是固定的，且没有明确考虑地形几何形状对交互的影响（例如，开门时门铰链的约束）。</p>
<p><strong>后续研究启示</strong>：这项工作为处理具有显著动态效应附肢的足式机器人控制开辟了新途径。未来的工作可以探索将学习与基于模型的优化相结合，以处理更大的模型不确定性或更复杂的交互约束；此外，该分解框架可扩展至更复杂的多臂系统或与更复杂的运动模板（如包含腿部摆动动力学的模型）相结合。</p>

      </section>
      <section class="detail-tldr">
        <h2>💡 一句话总结</h2>
        <p>本文针对带不可忽略动态效应机械臂的四足机器人移动操作控制问题，提出一种高效非线性模型预测控制框架。关键技术包括：采用分解策略，将用于运动的单刚体模型与机械臂全阶动态模型耦合；构建分层控制架构，NMPC以60Hz实时求解轨迹，由500Hz的全身控制器跟踪，机械臂扭矩指令直接应用。在Unitree Go2机器人加装Kinova机械臂的硬件实验中，该框架表现出鲁棒稳定性，能有效处理外部扰动、负载变化与不平地形。</p>
      </section>
      <div class="detail-actions">
        <a href="http://arxiv.org/abs/2507.22042" target="_blank" rel="noreferrer" class="btn">查看 arXiv 原文</a>
        <a href="../index.html" class="btn btn-outline">返回列表</a>
      </div>
    </article>
  </main>
  <footer class="site-footer">
    <span>数据抓取来源于 Robotics arXiv Daily</span>
    <span>本页由 GitHub Actions 定时更新</span>
  </footer>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
    onload="renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false}],throwOnError:false})"></script>
</body>
</html>