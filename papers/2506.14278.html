<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Whole-Body Control Framework for Humanoid Robots with Heavy Limbs: A Model-Based Approach - Robotics arXiv Daily</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="../assets/styles.css"/>
  <link rel="stylesheet" href="../assets/detail.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"/>
</head>
<body>
  <div class="bg-orbit"></div>
  <header class="site-header">
    <div class="brand">
      <a href="../index.html" class="back-link">← 返回列表</a>
    </div>
  </header>
  <main class="detail-main">
    <article class="detail-card">
      <span class="detail-category">Robotics (cs.RO)</span>
      <h1>Whole-Body Control Framework for Humanoid Robots with Heavy Limbs: A Model-Based Approach</h1>
      <div class="detail-meta">
        <span>arXiv: <a href="http://arxiv.org/abs/2506.14278" target="_blank" rel="noreferrer">2506.14278</a></span>
        <span>作者: Zhang, Tianlin, Yue, Linzhu, Zhang, Hongbo, Zhang, Lingwei, Zeng, Xuanqi, Song, Zhitao, Liu, Yun-Hui</span>
        <span>日期: 2025/06/17</span>
      </div>
      <section class="detail-body">
        <h2>📝 详细解读</h2>
        <h2 id="研究背景与动机">研究背景与动机</h2>
<p>人形机器人因其适应人类环境的能力而具有广阔的应用前景，但为了提供足够的驱动力和精度，其四肢通常配备伺服电机和齿轮箱，导致四肢质量占比较大（例如Digit和Unitree G1机器人中占比40%-60%）。这种质量分布使得躯干与四肢之间的动力学耦合成为影响机器人平衡的关键因素，为控制器设计带来重大挑战。具体痛点包括：1）四肢的运动会显著改变机器人的质量和惯性分布，导致质心剧烈波动，引发不稳定；2）四肢的控制误差在动态任务中会被惯性效应放大并传递至躯干，导致躯干偏离期望轨迹，引发振荡等不稳定行为。</p>
<p>现有方法主要分为基于学习和基于模型两类，均将控制问题分解为规划模块和跟踪模块。基于学习的方法（如强化学习、模仿学习）通过数据驱动隐式捕捉躯干-四肢耦合，但缺乏可解释性，且其跟踪模块通常使用高增益PID控制器，在非线性动力学下性能下降，难以有效减少四肢控制误差。基于模型的方法通过显式建模（如质心动量动力学、完整动力学）进行规划，但优化变量维度和约束数量大，实时计算挑战大；其跟踪模块（瞬时反馈控制器）虽然跟踪性能更好，但因其独立运行且控制目标与规划器不同，无法明确保证对规划器生成策略的遵从性，导致误差难以消除，机器人可能失稳。</p>
<p>本文针对上述挑战，提出了一种基于模型的人形机器人全身控制框架。核心思路是：通过简化系统动力学和约束，构建一个实时的运动-动力学规划器来生成参考运动与接触力；同时，设计一个分层优化问题，优先跟踪四肢运动以最小化其控制误差，并确保对规划器策略的遵从性。</p>
<h2 id="方法详解">方法详解</h2>
<p>所提出的整体框架包含一个运动-动力学规划器和一个分层优化问题。</p>
<p><img src="https://arxiv.org/html/2506.14278v2/x3.png" alt="方法整体框架"></p>
<blockquote>
<p><strong>图3</strong>：所提出框架的框图。首先，运动-动力学规划器根据用户输入和状态估计器生成参考运动与力（𝒙∗ 和 𝒖∗）。然后，构建一个分层优化问题来跟踪 𝒙∗ 和 𝒖∗，并生成人形机器人执行器的扭矩指令 𝝉_𝒋^𝒅。</p>
</blockquote>
<p><strong>1. 运动-动力学规划器</strong><br>该规划器采用模型预测控制（MPC）方案，旨在实时生成参考运动与接触力，同时考虑沉重四肢对质量和惯性分布的影响。其创新在于通过多项简化降低计算复杂度：</p>
<ul>
<li><strong>系统动力学简化</strong>：使用结合完整运动学的质心动量动力学描述机器人。与以往研究相比，该模型假设机器人只有四个可能的接触点（双脚），并忽略作用在脚上的接触力矩。这种简化虽然会导致单腿支撑时躯干欠驱动，但通过MPC的预测可以缓解其负面影响，更重要的是显著减少了优化变量维度，并消除了对额外接触力旋量一致性（CWC）约束的需求，使实时计算可行。状态向量为 𝒙 = [𝒉_𝒄𝒐𝒎^𝑻, 𝒒_𝒃^𝑻, 𝒒_𝒋^𝑻]^𝑻，输入向量为 𝒖 = [𝒇_𝒄𝟏^𝑻, ..., 𝒇_𝒄𝟒^𝑻, 𝒗_𝒋^𝑻]^𝑻。</li>
<li><strong>等式约束</strong>：基于接触状态（闭合或开启）定义。对于站立脚，确保其相对于地面静止（速度为零）；对于摆动脚，根据即将到来的落脚点生成其在操作空间中的参考摆动轨迹（三次轨迹）。落脚点位置通过Raibert启发式、基于捕获点的速度反馈项和离心力项的组合计算得出。</li>
<li><strong>不等式约束简化</strong>：包括摩擦锥约束、接触力界限、关节位置与速度限制以及碰撞避免。针对碰撞避免进行了关键简化：对于下肢，仅考虑左右脚之间的距离以避免碰撞；对于上肢，则通过关节位置限制来防止自碰撞。这种简化避免了为每个连杆构建球形近似所带来的二次计算复杂度增长。</li>
<li><strong>约束处理与成本函数</strong>：所有不等式约束通过径向基函数（RBF）转换为惩罚成本项，从而将问题转化为仅含等式约束的优化问题，简化计算。成本函数包括状态跟踪项、输入正则化项和不等式约束惩罚项。</li>
</ul>
<p><strong>2. 分层优化</strong><br>分层优化问题基于分层二次规划（HQP）构建，其核心目标是跟踪规划器生成的参考运动与力，并<strong>优先最小化四肢运动跟踪误差</strong>。通过将四肢运动跟踪设置为更高优先级（优先级2，仅次于物理一致性等硬约束），可以防止机器人在欠驱动方向上利用四肢的惯性来跟踪躯干参考运动，从而确保对规划器策略的遵从性，维持机器人稳定。</p>
<p><img src="https://arxiv.org/html/2506.14278v2/x2.png" alt="分层优化任务优先级"></p>
<blockquote>
<p><strong>图2</strong>：人形机器人坐标系（惯性系 ℐ 和质心系 𝒢）、接触力 𝒇_𝒄𝒊 以及碰撞约束 d_𝒊(𝒙,𝒖,𝑡) 的示意图。图中也展示了简化后的碰撞模型（主要考虑双脚间距）。</p>
</blockquote>
<p>优化变量为 𝝃 = [𝒗̇^𝑻, 𝑭_𝒄^𝑻]^𝑻。各优先级任务如下表所示：</p>
<ul>
<li><strong>优先级1（最高）</strong>：物理一致性（基于完整动力学浮动基部分）、接触运动一致性（站立脚零加速度）、扭矩限制、摩擦约束。</li>
<li><strong>优先级2</strong>：四肢运动跟踪。分为摆动腿运动（在操作空间跟踪参考轨迹）和上肢运动（在关节空间跟踪参考轨迹）。</li>
<li><strong>优先级3</strong>：躯干运动跟踪（在操作空间）。</li>
<li><strong>优先级4（最低）</strong>：接触力跟踪。将其优先级设为最低，以便在参考运动与力出现矛盾时调节力分布。</li>
</ul>
<p>求解得到最优加速度和接触力后，利用机器人的驱动部分动力学方程计算最终的关节扭矩指令 𝝉_𝒋^𝒅。</p>
<h2 id="实验与结果">实验与结果</h2>
<p>实验在仿真和硬件（Orca I人形机器人）上进行验证。Orca I共有28个自由度，四肢质量约占总质量的64%。控制框架运行在用户计算机上，运动-动力学规划器（OCS2）以约100Hz频率求解，分层优化（QPOASES）以约800Hz频率求解。</p>
<p><strong>对比基线方法</strong>：</p>
<ul>
<li><strong>cH</strong>：所提出的完整框架（带分层优化）。</li>
<li><strong>cNH</strong>：仅使用运动-动力学规划器，但跟踪模块使用不优先考虑四肢跟踪的常规瞬时反馈控制器（即无分层优化）。</li>
</ul>
<p><strong>关键实验结果</strong>：</p>
<p><img src="https://arxiv.org/html/2506.14278v2/x4.png" alt="动态行走速度跟踪与误差"></p>
<blockquote>
<p><strong>图4</strong>：以1.0 m/s期望速度进行动态行走的仿真结果。(a) 速度跟踪响应。cH（蓝线）和cNH（红线）的结果对比显示cH跟踪更平滑。(b) 四肢跟踪误差。cH（蓝线）的误差显著低于cNH（红线）。(c) 躯干高度跟踪响应。</p>
</blockquote>
<ol>
<li><strong>动态行走性能</strong>：在仿真中，cH框架能使机器人以1.0 m/s的速度稳定行走，且四肢跟踪误差（约0.5°）远低于cNH（约4.5°）。在硬件实验中，机器人实现了<strong>最高1.2 m/s的动态行走速度</strong>。</li>
</ol>
<p><img src="https://arxiv.org/html/2506.14278v2/x5.png" alt="外部扰动抵抗实验"></p>
<blockquote>
<p><strong>图5</strong>：在硬件上抵抗外部扰动的实验结果。机器人成功抵抗了持续时间为0.2秒、幅度为60N的推力。</p>
</blockquote>
<ol start="2">
<li><strong>抗扰动能力</strong>：在硬件测试中，机器人能够抵抗<strong>高达60 N</strong>的外部推力扰动（持续时间0.2秒）。</li>
</ol>
<p><img src="https://arxiv.org/html/2506.14278v2/x6.png" alt="不平坦地形行走"></p>
<blockquote>
<p><strong>图6</strong>：在具有±3厘米高度差的不平坦地形上行走的硬件实验序列图。</p>
</blockquote>
<ol start="3">
<li><strong>复杂地形适应性</strong>：机器人能够在<strong>不平坦地形</strong>（有高度差的地面）和<strong>室外环境</strong>（如草地、斜坡）中保持平衡并行走。</li>
</ol>
<p><img src="https://arxiv.org/html/2506.14278v2/x7.png" alt="跟踪误差与稳定性的定量比较"></p>
<blockquote>
<p><strong>图7</strong>：cH与cNH在抗扰动测试中的性能定量比较。(a) 躯干位置误差。(b) 四肢位置误差。cH在两项误差上均显著优于cNH。</p>
</blockquote>
<p><strong>消融实验</strong>：通过比较cH和cNH，验证了分层优化（优先跟踪四肢）的关键作用。结果表明，cH在躯干和四肢的跟踪误差上均显著小于cNH（图7），并且在受到扰动后能更快恢复稳定，证明了该设计能有效减少四肢控制误差、确保对规划策略的遵从性，从而提升整体稳定性。</p>
<p><img src="https://arxiv.org/html/2506.14278v2/x8.png" alt="更多实验结果图"></p>
<blockquote>
<p><strong>图8</strong>：在斜坡上行走的硬件实验。</p>
</blockquote>
<p><img src="https://arxiv.org/html/2506.14278v2/x9.png" alt="更多实验结果图"></p>
<blockquote>
<p><strong>图9</strong>：携带负载行走的硬件实验。</p>
</blockquote>
<h2 id="总结与启发">总结与启发</h2>
<p><strong>核心贡献</strong>：</p>
<ol>
<li>提出了一个新颖的、基于模型的人形机器人全身控制框架，通过简化的运动-动力学规划器实现实时计算，并利用分层优化优先跟踪四肢运动，有效消除了沉重四肢带来的躯干-四肢耦合负面影响。</li>
<li>该框架在保证实时性的同时，显著最小化了四肢跟踪误差，并确保了对规划器生成策略的遵从性，从而实现了高速动态行走（1.2 m/s）、强抗扰动（60 N）以及在复杂地形上的稳定运动。</li>
<li>通过全面的仿真与硬件实验，验证了框架的有效性，并与基线方法进行了对比，量化了所提方法的优势。</li>
</ol>
<p><strong>局限性</strong>：论文提到，所使用的简化动力学模型（忽略接触力矩）可能不适用于需要精确力控制或更复杂接触交互的任务。此外，碰撞避免的简化模型（仅考虑双脚距离）对于更复杂的自碰撞场景可能不够充分。</p>
<p><strong>后续研究启示</strong>：本工作表明，在基于模型的控制中，通过精心设计优化问题的优先级（优先控制误差源——四肢），可以显著提升整体系统性能与鲁棒性。未来的工作可以探索将更复杂的动力学模型或接触模型集成到实时规划器中，以处理更广泛的任务，同时保持计算效率。此外，该分层优化框架可与其他规划方法（如基于学习的规划器）结合，以提升其跟踪性能与可靠性。</p>

      </section>
      <section class="detail-tldr">
        <h2>💡 一句话总结</h2>
        <p>本文针对具有重肢体的人形机器人因肢体运动导致质量和惯性分布变化、进而引发平衡控制难题的核心问题，提出了一种基于模型的全身控制框架。该框架结合了**运动动力学规划器**（采用模型预测控制MPC方案，实时规划运动与接触力）和**分层优化问题**（使用分层二次规划HQP最小化肢体控制误差）。实验表明，采用该框架的机器人可实现**1.2 m/s的动态行走速度**，承受**60 N的外部扰动**，并在不平坦地形及室外环境中保持平衡。</p>
      </section>
      <div class="detail-actions">
        <a href="http://arxiv.org/abs/2506.14278" target="_blank" rel="noreferrer" class="btn">查看 arXiv 原文</a>
        <a href="../index.html" class="btn btn-outline">返回列表</a>
      </div>
    </article>
  </main>
  <footer class="site-footer">
    <span>数据来源：<a href="https://jiangranlv.github.io/robotics_arXiv_daily/" target="_blank">Robotics arXiv Daily</a></span>
    <span>由 GitHub Actions 自动更新 · AI 摘要仅供参考</span>
  </footer>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
    onload="renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false}],throwOnError:false})"></script>
</body>
</html>