<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>SoccerDiffusion: Toward Learning End-to-End Humanoid Robot Soccer from Gameplay Recordings - Robotics arXiv Daily</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="../assets/styles.css"/>
  <link rel="stylesheet" href="../assets/detail.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"/>
</head>
<body>
  <div class="bg-orbit"></div>
  <header class="site-header">
    <div class="brand">
      <a href="../index.html" class="back-link">← 返回列表</a>
    </div>
  </header>
  <main class="detail-main">
    <article class="detail-card">
      <span class="detail-category">Robotics (cs.RO)</span>
      <h1>SoccerDiffusion: Toward Learning End-to-End Humanoid Robot Soccer from Gameplay Recordings</h1>
      <div class="detail-meta">
        <span>arXiv: <a href="http://arxiv.org/abs/2504.20808" target="_blank" rel="noreferrer">2504.20808</a></span>
        <span>作者: Vahl, Florian, Griepenburg, Jörn, Gutsche, Jan, Güldenstein, Jasper, Zhang, Jianwei</span>
        <span>日期: 2025/04/29</span>
      </div>
      <section class="detail-body">
        <h2>📝 详细解读</h2>
        <h2 id="研究背景与动机">研究背景与动机</h2>
<p>在高度动态的环境中开发自主机器人，例如RoboCup人形机器人足球赛，是一个重要研究方向。当前主流方法依赖于手动设计机器人系统的多个组件和抽象接口，虽然引入了强归纳偏置，但也限制了系统的表达能力，且系统集成复杂。端到端学习是一种有前景的替代方案，在仿真和简化的真实场景中已有成功案例，但这些方法通常需要针对特定任务的手工演示来启动学习过程。本文针对直接从大量真实比赛录像中学习机器人行为这一具体痛点，提出了一种数据驱动的新视角，旨在利用现有比赛数据训练一个基础行为模型，为后续的强化学习或偏好优化提供起点。本文的核心思路是：利用基于Transformer的扩散模型，直接从多模态传感器输入（视觉、本体感知、游戏状态）预测关节命令轨迹，并通过蒸馏技术将多步扩散过程简化为单步推理，以实现嵌入式平台上的实时性能。</p>
<h2 id="方法详解">方法详解</h2>
<p>SoccerDiffusion的整体流程包括数据收集与预处理、基于Transformer的扩散模型训练、以及为实时推理进行的模型蒸馏。模型以多模态历史观测为输入，输出未来的关节命令轨迹。</p>
<p><img src="https://arxiv.org/html/2504.20808v2/x1.png" alt="方法架构"></p>
<blockquote>
<p><strong>图1</strong>：SoccerDiffusion模型架构。包含多个编码器（关节状态、上一时刻关节命令、旋转、图像）和一个关节命令轨迹解码器。编码器将不同模态的数据编码到共享的潜在空间（后期融合）。解码器基于潜在信息和加噪的未来关节轨迹预测噪声残差。为清晰起见，游戏状态和扩散步骤的特殊标记未显示。</p>
</blockquote>
<p>核心模块包括多模态编码器和关节命令轨迹解码器。<strong>编码器</strong>采用后期融合策略，各自将输入映射到共享的潜在空间。关节状态和旋转编码器对输入片段进行线性标记嵌入，后接Transformer编码器。图像编码器首先使用ResNet-18提取特征，再通过一个Transformer编码器建模时序依赖。所有编码器的上下文窗口为：关节数据和旋转为2秒，图像为1秒。除了传感器数据，模型还将扩散过程的步骤（正弦嵌入）和当前游戏状态（学习到的标记）作为输入。<strong>解码器</strong>是一个具有交叉注意力机制的Transformer解码器，用于查询编码器产生的共享潜在空间，在给定潜在信息和加噪目标轨迹的条件下预测噪声残差。采样时使用DDIM算法。</p>
<p>与现有方法相比，创新点主要体现在两方面：1) 针对人形机器人足球这一复杂、长期的任务，结合了扩散模型处理多模态输出分布的优势和Transformer建模长时序依赖的能力；2) 通过蒸馏技术，将训练好的多步扩散模型（教师）压缩为单步推理模型（学生），在保持多模态生成能力的同时满足实时性要求。蒸馏过程中，教师模型通过30步DDIM采样生成目标轨迹，学生模型（仅解码器可训练）学习直接预测该轨迹，损失函数为均方误差。</p>
<p>模型生成轨迹的执行采用了延迟补偿机制。由于推理需要时间，生成轨迹中起始部分点对应的执行时间可能已过，因此会根据模型运行时间截断轨迹开头部分，并采用重叠生成、始终执行最新轨迹的策略，以模拟训练时“瞬时推理”的假设。</p>
<h2 id="实验与结果">实验与结果</h2>
<p>实验使用了来自Hamburg Bit-Bots团队在RoboCup 2024和German Open 2025比赛中的88段真实机器人记录（约15小时，340GB数据）。评估在物理机器人（Wolfgang-OP平台）和Webots仿真环境中进行。基线方法为该团队现有的、手动编程的软件栈。</p>
<p>定量评估主要针对跌倒恢复能力。在十个方向的测试中，SoccerDiffusion策略在物理机器人上的总体成功率为95%，在仿真中为100%（基线方法在两者上均为100%）。具体结果如下表所示：<br>表3数据显示，在向前跌倒时，物理测试有6次成功、3次需重试、1次失败；向侧后方跌倒恢复成功率很高。</p>
<p>定性评估显示，搭载SoccerDiffusion策略的机器人能够稳定行走、转向、踢球和进行跌倒恢复，其动态运动和稳定行为模仿了数据集中机器人的PID质心控制和自适应步态相位。模型还展现出从仿真到真实世界的迁移能力，而基线软件栈则需要为仿真单独调整参数。然而，模型缺乏高级战术行为（如有意识地踢球或场上站位），且存在“倾向于静止”的偏差，这可能是由于数据集中包含大量机器人站立不动的序列。</p>
<p><img src="https://arxiv.org/html/2504.20808v2/extracted/6593154/images/walk_image_sequence_two_lines.jpg" alt="行走序列"></p>
<blockquote>
<p><strong>图2</strong>：SoccerDiffusion策略在Wolfgang-OP平台上执行的双足行走周期。机器人表现出模仿训练数据的头部扫描动作。</p>
</blockquote>
<p><img src="https://arxiv.org/html/2504.20808v2/extracted/6593154/images/fall_image_sequence_two_lines.jpg" alt="跌倒恢复序列"></p>
<blockquote>
<p><strong>图3</strong>：SoccerDiffusion策略在Wolfgang-OP平台上执行的从右侧跌倒恢复过程。这是一个多步骤动作（从侧躺转为前趴，然后站起）。</p>
</blockquote>
<p>消融实验方面，论文提到未使用无分类器指导，并计划在未来工作中进行更详细的消融研究以确定更有效的配置。蒸馏过程本身可视为一种关键的技术组件，它使实时性能成为可能，且作者未观察到蒸馏模型与未蒸馏模型在亚实时仿真环境中的定性差异。</p>
<h2 id="总结与启发">总结与启发</h2>
<p>本文的核心贡献在于：1) 首次探索了直接从真实人形机器人足球比赛录像中学习端到端控制策略，证明了扩散模型与Transformer结合在此类非结构化、多模态时序数据上的可行性；2) 成功复现了包括稳定行走、踢球、鲁棒跌倒恢复在内的一系列基础技能，并展示了从真实到仿真的迁移能力；3) 通过蒸馏技术，在保持行为多样性的同时实现了嵌入式平台上的实时推理，为后续研究提供了可用基础。</p>
<p>论文明确指出了自身的局限性：学习到的高级战术行为有限，模型存在“倾向于静止”的偏差。这主要归因于数据集本身的特点（如大量站立序列、团队协作导致并非所有机器人都始终向球移动）以及可能的模型容量或训练时长限制。</p>
<p>这项工作对后续研究的启示是：为复杂人形机器人技能学习提供了一个数据驱动的基础模型范式。所发布的模型、代码和数据集可作为后续强化学习或偏好优化的高质量起点。未来的改进方向包括扩充数据集、引入通用视觉嵌入模型（如DINOv2）、过滤静态序列以鼓励动态行为，以及探索辅助损失函数等。</p>

      </section>
      <section class="detail-tldr">
        <h2>💡 一句话总结</h2>
        <p>本文提出SoccerDiffusion，旨在解决如何直接从真实人形机器人足球比赛录像中学习端到端控制策略的核心问题。关键技术是基于Transformer的扩散模型，它利用多模态传感器输入预测关节指令轨迹，并采用蒸馏技术将多步扩散过程简化为单步，以实现嵌入式平台上的实时推理。实验表明，该模型能在仿真和实体机器人上成功复现行走、踢球、摔倒恢复等复杂运动行为，为后续强化学习或偏好优化提供了坚实基础，但高层战术行为仍有局限。</p>
      </section>
      <div class="detail-actions">
        <a href="http://arxiv.org/abs/2504.20808" target="_blank" rel="noreferrer" class="btn">查看 arXiv 原文</a>
        <a href="../index.html" class="btn btn-outline">返回列表</a>
      </div>
    </article>
  </main>
  <footer class="site-footer">
    <span>数据来源：<a href="https://jiangranlv.github.io/robotics_arXiv_daily/" target="_blank">Robotics arXiv Daily</a></span>
    <span>由 GitHub Actions 自动更新 · AI 摘要仅供参考</span>
  </footer>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
    onload="renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false}],throwOnError:false})"></script>
</body>
</html>