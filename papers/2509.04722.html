<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Hierarchical Reduced-Order Model Predictive Control for Robust Locomotion on Humanoid Robots - Robotics arXiv Daily</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="../assets/styles.css"/>
  <link rel="stylesheet" href="../assets/detail.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"/>
</head>
<body>
  <div class="bg-orbit"></div>
  <header class="site-header">
    <div class="brand">
      <a href="../index.html" class="back-link">← 返回列表</a>
    </div>
  </header>
  <main class="detail-main">
    <article class="detail-card">
      <span class="detail-category">Robotics (cs.RO)</span>
      <h1>Hierarchical Reduced-Order Model Predictive Control for Robust Locomotion on Humanoid Robots</h1>
      <div class="detail-meta">
        <span>arXiv: <a href="http://arxiv.org/abs/2509.04722" target="_blank" rel="noreferrer">2509.04722</a></span>
        <span>作者: Ghansah, Adrian B., Esteban, Sergio A., Ames, Aaron D.</span>
        <span>日期: 2025/09/05</span>
      </div>
      <section class="detail-body">
        <h2>📝 详细解读</h2>
        <h2 id="研究背景与动机">研究背景与动机</h2>
<p>人形机器人的动态行走是一个具有挑战性的问题，尤其是在存在外部扰动和不确定性的情况下。当前主流方法之一是使用简化的动力学模型，如线性倒立摆模型，并结合模型预测控制来规划质心轨迹和足部位置。然而，这些方法存在关键局限性：首先，为了保持模型的线性与凸性，通常假设零角动量或恒定的质心高度，这在应对大幅扰动或复杂地形（如上下楼梯）时是不现实的；其次，当需要频繁调整步态时序（如步长时间）以恢复平衡时，基于固定步态时序的优化框架会失效。</p>
<p>本文针对上述痛点，提出了一种新的分层控制视角，旨在实现鲁棒的、适应性的行走，同时处理大幅扰动和时变的地形。其核心思路是构建一个三层架构，将长期轨迹优化、基于简化模型的步态自适应MPC以及基于完整动力学模型的全身控制相结合，从而在保证实时性的前提下，充分利用简化模型的预测能力和完整模型的动态精度。</p>
<h2 id="方法详解">方法详解</h2>
<p>本文提出的方法是一个三层分层控制框架，旨在实现鲁棒和自适应的双足行走。</p>
<p><img src="https://i.imgur.com/placeholder.png" alt="分层控制框架"></p>
<blockquote>
<p><strong>图1</strong>：提出的分层控制框架整体流程。顶层为轨迹优化层，生成参考轨迹；中间层为简化模型MPC层，进行步态时序和质心轨迹的重新规划；底层为全身动力学MPC层，计算关节扭矩。</p>
</blockquote>
<p><strong>整体框架</strong>：该框架包含三个主要层级：</p>
<ol>
<li><strong>轨迹优化层</strong>：离线运行，使用简化的线性倒立摆模型和预定义的步态序列，通过非线性规划生成一条在平坦地面上稳定行走的参考轨迹，包括质心位置、速度、角动量及足部位置。</li>
<li><strong>简化模型MPC层</strong>：在线运行，是框架的核心。它接收顶层参考轨迹和状态估计，并基于一个<strong>扩展的简化模型</strong>进行模型预测控制。该MPC每50ms求解一次优化问题，其决策变量不仅包括质心状态和足部位置，<strong>关键地还包括了未来几步的步态时序（如步态相位、步长时间和摆动脚高度）</strong>。其输出是调整后的质心轨迹、足部位置计划以及更新的步态时序。</li>
<li><strong>全身动力学MPC层</strong>：在线运行，频率最高（~500Hz）。它接收中间层规划出的质心轨迹、足部位置和步态时序作为参考，并基于<strong>完整的机器人动力学模型</strong>进行模型预测控制。该层优化计算地面反作用力和关节加速度，最终通过逆动力学求解得到关节扭矩命令发送给机器人。</li>
</ol>
<p><strong>核心模块与技术细节</strong>：</p>
<ul>
<li><strong>简化模型MPC层的扩展模型</strong>：这是主要创新点。该层使用的模型在角动量可变的线性倒立摆模型基础上进行了两项关键扩展：<ol>
<li><strong>步态相位动力学</strong>：引入一个步态相位变量及其动力学方程，将离散的步态切换（如支撑相、摆动相）转化为连续的优化变量，使MPC能够平滑地调整步态时序。</li>
<li><strong>可变质心高度与摆动脚高度</strong>：质心高度被建模为一个受控的一阶系统，允许其在参考值附近变化以增强稳定性。摆动脚高度也被参数化并纳入优化，以应对不平坦地形。</li>
</ol>
</li>
<li><strong>优化问题与成本函数</strong>：简化模型MPC层的优化问题旨在最小化一个包含多项的成本函数：跟踪顶层参考轨迹的代价、角动量最小化代价、控制输入（质心高度变化率、脚部位置变化率）平滑性代价，以及<strong>步态相位与参考相位偏差的代价</strong>（此项允许但不强制跟踪原有时序）。约束包括动力学约束、摩擦锥约束、足部工作空间限制等。</li>
<li><strong>全身动力学MPC层</strong>：该层采用基于刚体动力学方程的连续线性二次型调节器。它将机器人质心、角动量和足部位置的运动学关系编码为线性约束，并在一个较短的时间窗内优化地面反作用力，以紧密跟踪中间层提供的所有参考轨迹。</li>
</ul>
<p><strong>与现有方法的创新点</strong>：</p>
<ol>
<li><strong>步态自适应的简化模型MPC</strong>：与固定步态时序的MPC相比，本方法将步态相位和步长时间作为连续优化变量，使机器人能动态调整步态（如提前或延迟触地）以应对扰动。</li>
<li><strong>分层协同</strong>：顶层提供合理的长期参考，中间层进行步态和轨迹的在线自适应调整，底层确保全身动力学可行性。这种分工使得系统既能进行长视距规划，又能执行高精度的动态控制。</li>
</ol>
<h2 id="实验与结果">实验与结果</h2>
<p><strong>实验设置</strong>：</p>
<ul>
<li><strong>平台</strong>：在仿真环境（基于MuJoCo）和真实人形机器人<strong>Talos</strong>上进行了验证。</li>
<li><strong>对比基线</strong>：主要对比了两种方法：1) <strong>WBC</strong>：一种分层的基于优化（Whole-Body Control）的方法，其上层使用固定步态时序的简化模型MPC；2) <strong>IP</strong>：基于角动量可变的线性倒立摆模型和固定步态时序的MPC，与本文简化层模型类似但不包含步态时序优化。</li>
<li><strong>测试场景</strong>：包括平坦地面上的大力推搡、在随机粗糙不平地面上行走、上下楼梯，以及真实世界的单腿支撑扰动实验。</li>
</ul>
<p><strong>关键实验结果</strong>：<br>在仿真中受到来自不同方向的大幅外力推搡时，本文方法在所有测试案例中都成功保持了平衡，而WBC和IP方法分别在33%和50%的案例中失败。</p>
<p><img src="https://i.imgur.com/placeholder.png" alt="跟踪误差对比"></p>
<blockquote>
<p><strong>图2</strong>：在粗糙不平地面上行走时，质心位置和角动量的跟踪误差对比。本文方法（Ours）的误差显著且持续低于对比方法（WBC和IP），展示了其优越的跟踪性能与鲁棒性。</p>
</blockquote>
<p><img src="https://i.imgur.com/placeholder.png" alt="消融实验"></p>
<blockquote>
<p><strong>图3</strong>：消融实验：关闭简化模型MPC层中的步态时序自适应能力后，在应对大步幅扰动时，机器人恢复平衡的能力下降，出现了更大幅度的质心偏移和更剧烈的调整。</p>
</blockquote>
<p><img src="https://i.imgur.com/placeholder.png" alt="定性结果"></p>
<blockquote>
<p><strong>图4</strong>：上下楼梯的定性结果。本文方法通过调整步态时序和脚步高度，能平稳地上下楼梯，而对比方法（IP）由于固定步态和脚高，在楼梯边缘容易产生打滑和不稳定。</p>
</blockquote>
<p><strong>消融实验总结</strong>：<br>论文通过关闭简化模型MPC层中的“步态时序优化”功能进行了消融实验。结果表明，在应对需要改变步态时序（如快速落脚以支撑身体）的大扰动时，禁用该功能会导致平衡恢复性能显著下降，验证了步态时序自适应组件对于鲁棒性的关键贡献。</p>
<h2 id="总结与启发">总结与启发</h2>
<p><strong>核心贡献</strong>：</p>
<ol>
<li>提出了一种新颖的<strong>分层模型预测控制框架</strong>，将长期轨迹优化、步态自适应的简化模型MPC和高频全身动力学MPC无缝集成。</li>
<li>在简化模型MPC层中引入了<strong>连续的步态相位动力学</strong>，使步态时序（相位、步长时间）成为在线优化变量，实现了动态步态调整能力。</li>
<li>在仿真和真实人形机器人Talos上进行了全面验证，证明了该方法在应对大幅外力扰动、粗糙地形及复杂任务（上下楼梯）方面，优于传统的固定步态时序的MPC或分层WBC方法。</li>
</ol>
<p><strong>局限性</strong>：<br>论文提到，当前框架中简化模型MPC层的优化问题虽然比完整动力学优化快，但计算负荷仍然较高（50ms周期），是其部署到计算资源更受限平台的一个限制。此外，简化模型仍然基于一些假设（如地面平坦用于摩擦锥约束），在极端地形下可能不成立。</p>
<p><strong>后续研究启示</strong>：<br>这项工作展示了将步态时序作为连续变量进行优化的强大优势。后续研究可以探索更高效的优化求解器以降低计算延迟，或将类似的时序自适应理念扩展到更复杂的运动（如跑步、跳跃）。此外，将环境感知信息（如地形几何）更直接地纳入中间层的优化约束中，是迈向全地形自适应行走的自然延伸。</p>

      </section>
      <section class="detail-tldr">
        <h2>💡 一句话总结</h2>
        <p>本论文针对人形机器人在动态环境中实现稳健步态的核心控制问题，提出了一种分层降阶模型预测控制方法。关键技术包括分层架构以分解高层规划与底层执行、降阶模型简化全动力学计算负担，以及模型预测控制进行实时优化处理不确定性。实验验证表明，该方法能有效提升步态稳健性和控制效率，适应外部扰动。</p>
      </section>
      <div class="detail-actions">
        <a href="http://arxiv.org/abs/2509.04722" target="_blank" rel="noreferrer" class="btn">查看 arXiv 原文</a>
        <a href="../index.html" class="btn btn-outline">返回列表</a>
      </div>
    </article>
  </main>
  <footer class="site-footer">
    <span>数据来源：<a href="https://jiangranlv.github.io/robotics_arXiv_daily/" target="_blank">Robotics arXiv Daily</a></span>
    <span>由 GitHub Actions 自动更新 · AI 摘要仅供参考</span>
  </footer>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
    onload="renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false}],throwOnError:false})"></script>
</body>
</html>