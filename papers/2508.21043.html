<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>HITTER: A HumanoId Table TEnnis Robot via Hierarchical Planning and Learning - Robotics arXiv Daily</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="../assets/styles.css"/>
  <link rel="stylesheet" href="../assets/detail.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"/>
</head>
<body>
  <div class="bg-orbit"></div>
  <header class="site-header">
    <div class="brand">
      <a href="../index.html" class="back-link">← 返回列表</a>
    </div>
  </header>
  <main class="detail-main">
    <article class="detail-card">
      <span class="detail-category">Robotics (cs.RO)</span>
      <h1>HITTER: A HumanoId Table TEnnis Robot via Hierarchical Planning and Learning</h1>
      <div class="detail-meta">
        <span>arXiv: <a href="http://arxiv.org/abs/2508.21043" target="_blank" rel="noreferrer">2508.21043</a></span>
        <span>作者: Su, Zhi, Zhang, Bike, Rahmanian, Nima, Gao, Yuman, Liao, Qiayuan, Regan, Caitlin, Sreenath, Koushil, Sastry, S. Shankar</span>
        <span>日期: 2025/08/28</span>
      </div>
      <section class="detail-body">
        <h2>📝 详细解读</h2>
        <h2 id="研究背景与动机">研究背景与动机</h2>
<p>人形机器人在运动与全身控制方面取得了显著进展，但其在需要与动态环境进行快速交互的操作任务中仍受限制。乒乓球是此类挑战的典型代表：球速超过5米/秒，要求玩家在亚秒级的反应时间内完成感知、预测和动作执行，兼具敏捷性与精确性。当前针对人形机器人乒乓球的研究，例如使用阻抗控制的方法，通常将机器人限制在站立不动状态，这极大地限制了其有效击球范围。因此，本文旨在解决人形机器人在此类高速动态交互任务中的局限性，核心痛点在于如何实现兼具敏捷全身运动、精确击球以及连续对打中保持平衡与准备状态的能力。</p>
<p>本文提出了一种分层框架，通过结合基于模型的规划器与基于强化学习的全身控制器，使人形机器人能够进行类人的、敏捷的乒乓球对打。其核心思路是：高层模型规划器负责精确预测球轨迹并规划击球目标，为控制器提供稳定的接口；低层学习控制器则负责生成模仿人类的全身击球动作，并追踪规划器指定的目标，从而实现快速、协调且稳定的交互。</p>
<h2 id="方法详解">方法详解</h2>
<p>整体系统框架采用分层结构，整合了基于模型的规划器与基于学习的全身控制器（WBC）。</p>
<p><img src="https://arxiv.org/html/2508.21043v2/figures/framework.png" alt="系统框架"></p>
<blockquote>
<p><strong>图1</strong>：系统概览。(a) 球拍通过3D打印连接件安装在机器人右手腕，球身覆盖反光胶带用于运动捕捉。(b) 运动捕捉系统以360Hz频率跟踪球位置、机器人基座位置及基座前向向量。(c) 基于模型的规划器利用球位置和期望落点，预测击球位置、速度及时间，并计算机器人基座目标位置。(d) 基于学习的全身控制器策略在仿真中通过强化学习训练，并融入人类运动参考，然后部署到真实机器人。它以系统其他组件提供的观测和机器人本体感知信息作为输入。</p>
</blockquote>
<p>系统流程如下：首先，运动捕捉系统以360Hz频率提供球位置、机器人基座位置和朝向。规划器接收球位置，预测击球所需的位置、速度和时间，并计算机器人基座的目标位置。这些目标作为命令输入给WBC策略。该策略以50Hz频率处理观测信息，输出所有29个关节的期望位置，再经由PD控制器转换为关节力矩执行。</p>
<p><strong>核心模块一：模型规划器</strong></p>
<ol>
<li><strong>状态估计</strong>：对球的三维位置进行二阶多项式最小二乘拟合（使用最近的31个测量值），平滑估计球的位置和速度。检测到球在球桌弹跳后，会清空位置测量缓冲区。</li>
<li><strong>轨迹预测</strong>：采用混合动力学模型。飞行阶段（公式1a）考虑空气阻力和重力，忽略马格努斯力（假设旋转足够小）。弹跳阶段（公式1b）使用对角恢复矩阵描述速度变化。模型参数通过15条记录的球轨迹拟合得到。利用该模型和当前状态估计，通过逐步时间积分预测未来轨迹，并在固定的虚拟击球平面计算击球时间和位置。</li>
<li><strong>球拍-球交互</strong>：为成功回球，需计算击球时球拍的速度。假设球拍平面与其速度向量垂直，并采用简化的碰撞模型（法向恢复系数，忽略切向摩擦）。根据期望的落点、击球位置及预设的飞行时间，计算期望的出球速度，进而结合预测的来球速度，推导出期望的球拍速度（公式6）。</li>
</ol>
<p><strong>核心模块二：学习型全身控制器</strong><br>WBC策略使用PPO算法在仿真中端到端训练，并零样本部署到真实机器人。</p>
<ol>
<li><strong>人类运动参考</strong>：为生成类人动作，系统引入了正手和反手两种挥拍参考。从人类挥拍视频重建SMPL动作，并重定向到机器人模型。经过插值和运动学计算，得到包含身体姿态和关节位置/速度的参考运动片段（持续1.88秒，击球发生在第0.86秒）。</li>
<li><strong>MDP设置</strong>：<ul>
<li><strong>命令分离</strong>：为提高训练效率，将命令分离为基座目标位置和球拍目标（位置和速度）。这鼓励机器人及时到达目标位置。每个回合持续10秒，以支持连续击打和挥拍类型切换。</li>
<li><strong>奖励函数</strong>：总奖励由模仿奖励、目标追踪奖励和正则化奖励加权组成。目标追踪奖励包含仅在击球时刻附近或击球前激活的稀疏项。</li>
<li><strong>非对称演员-评论家</strong>：评论家网络在训练时接收额外的特权信息，如机器人身体姿态和回合剩余时间，以更准确估计回报，而演员网络在部署时不使用这些信息。策略网络均为三层MLP。</li>
</ul>
</li>
</ol>
<p><strong>创新点</strong>：</p>
<ol>
<li><strong>分层设计</strong>：分离长期轨迹预测/规划和短期全身控制，使模块可独立评估和优化。</li>
<li><strong>命令分离</strong>：将全局球拍命令分解为基座位置命令和相对球拍命令，显著提高了训练效率，实现了敏捷的单步侧向移动。</li>
<li><strong>参考运动集成</strong>：仅使用两个人类挥拍参考，通过模仿奖励使控制器习得自然的、包含躯干旋转的类人击球动作。</li>
<li><strong>模型与学习结合</strong>：结合了模型方法预测准确和学习方法适应复杂动力学的优势，克服了端到端RL样本效率低和纯模型方法对高精度模型依赖性强的问题。</li>
</ol>
<h2 id="实验与结果">实验与结果</h2>
<p>实验在真实世界中进行，使用Unitree G1人形机器人，并通过OptiTrack运动捕捉系统提供感知。评估围绕规划器准确性、控制器敏捷性以及系统整体性能展开。</p>
<p><strong>基线对比</strong>：文中指出，先前使用阻抗控制的人形乒乓球工作将机器人限制在静止状态，而先前WBC方法使用速度命令导致机器人采用较慢的多步移动。本文方法与这些局限形成对比。</p>
<p><strong>关键实验结果</strong>：</p>
<ol>
<li><strong>规划器预测精度</strong>：收集20条球轨迹评估预测误差。</li>
</ol>
<p><img src="https://arxiv.org/html/2508.21043v2/figures/prediction_error.png" alt="预测误差"></p>
<blockquote>
<p><strong>图2</strong>：基于模型的规划器预测误差。评估了20条球轨迹的击球位置误差（上）和击球时间误差（下）。阴影区域为标准差，红色虚线为7.5厘米的临界位置误差（对应球拍半径）。在击球前0.5秒，位置误差已低于该阈值；击球前0.3秒，时间误差低于20毫秒（一个控制周期）。</p>
</blockquote>
<ol start="2">
<li><strong>控制器敏捷性</strong>：在仿真中测试策略到达目标基座位置的能力。</li>
</ol>
<p><img src="https://arxiv.org/html/2508.21043v2/figures/agility_test.png" alt="敏捷性评估"></p>
<blockquote>
<p><strong>图3</strong>：WBC策略的敏捷性评估。基于943次成功仿真试验（成功率94.3%），当初始距离在0.75米内时，平均可在0.8秒内到达目标，快于0.86秒的击球准备时间。误差棒表示试验间的标准差。</p>
</blockquote>
<ol start="3">
<li><strong>真实世界动态演示</strong>：</li>
</ol>
<p><img src="https://arxiv.org/html/2508.21043v2/figures/side_jump.png" alt="快速移动"></p>
<blockquote>
<p><strong>图4</strong>：真实世界快速移动。全身控制策略实现了敏捷的移动，使机器人能从球台右侧快速过渡到左侧，在保持平衡的同时成功击球。</p>
</blockquote>
<p><img src="https://arxiv.org/html/2508.21043v2/figures/hit_motion.jpg" alt="类人击球动作"></p>
<blockquote>
<p><strong>图5</strong>：真实世界类人击球动作。全身控制策略生成类人击球动作，包括击球时协调的腰部旋转，模仿了人类打乒乓球的方式。</p>
</blockquote>
<ol start="4">
<li><strong>系统整体回球性能</strong>：</li>
</ol>
<p><img src="https://arxiv.org/html/2508.21043v2/figures/succ_rate.png" alt="回球性能评估"></p>
<blockquote>
<p><strong>图6</strong>：回球性能评估。结果在虚拟击球平面上显示，每个方块边长为0.2米。在分布于平面上的26个来球中，机器人成功回击24个（蓝色：正手，绿色：反手），1次击中但未回球（橙色），1次完全未击中（红色）。对应96.2%的击中率和92.3%的回球率。</p>
</blockquote>
<p><strong>综合性能</strong>：机器人能与人类对手进行长达106个回合的连续对打，并能以仅0.42秒的反应时间回击人类的扣杀。两个装备相同策略的人形机器人之间可以进行完全自主的持续对打。</p>
<p><strong>消融实验贡献</strong>：虽然没有严格的消融实验表格，但论文通过对比（如与使用速度命令的旧WBC方法对比）和组件独立评估（图2、图3），明确了各组件贡献：规划器提供了精确、稳定的目标命令；命令分离和人类参考的引入是实现敏捷移动和类人动作的关键；分层设计整体上实现了样本高效的学习和强大的现实世界性能。</p>
<h2 id="总结与启发">总结与启发</h2>
<p><strong>核心贡献</strong>：</p>
<ol>
<li>提出了一个用于人形机器人乒乓球的分层框架，创新地整合了基于模型的规划器与基于强化学习的全身控制器。</li>
<li>开发了类人的全身击球技能，结合了用于击球的协调手臂运动和用于快速移动的敏捷腿部运动。</li>
<li>在真实世界中进行了广泛验证，包括人机对战和人形机器人之间的对战，实现了高达106回合的连续击球，证明了系统的可靠性、敏捷性和交互能力。</li>
</ol>
<p><strong>局限性</strong>：</p>
<ol>
<li><strong>固定虚拟击球平面</strong>：限制了击球策略，对过短或过深的球处理效果下降，要求人类对手避免打出此类球。</li>
<li><strong>依赖外部运动捕捉</strong>：系统依赖于外部运动捕捉系统提供球和机器人基座的位姿，限制了部署场景。</li>
</ol>
<p><strong>启示</strong>：<br>本文展示了分层规划与学习结合在处理高速动态交互任务上的有效性。未来研究可探索放宽固定击球平面的假设以扩大覆盖范围，集成机载感知（如视觉）以摆脱对外部动捕的依赖，并将该框架扩展到其他需要快速全身协调的动态操作任务中。此外，如何从大量人类演示中自动学习多样化的技能库，而非仅依赖少量参考动作，也是一个值得探索的方向。</p>

      </section>
      <section class="detail-tldr">
        <h2>💡 一句话总结</h2>
        <p>本文针对人形机器人与高速动态物体交互的核心难题，以乒乓球（球速>5m/s，需亚秒级反应）为测试场景，提出了一个分层规划与学习的框架。方法整合了基于模型的规划器（用于预测球轨迹并规划球拍击球位置、速度与时机）和基于强化学习的全身控制器（生成协调的臂腿运动以模仿人类击球并保持稳定）。训练中引入人类运动参考以鼓励自然动作。在真实人形机器人上验证，实现了与人类对手连续对打106拍，并能与另一机器人持续回合，展示了亚秒级反应控制下的敏捷交互能力。</p>
      </section>
      <div class="detail-actions">
        <a href="http://arxiv.org/abs/2508.21043" target="_blank" rel="noreferrer" class="btn">查看 arXiv 原文</a>
        <a href="../index.html" class="btn btn-outline">返回列表</a>
      </div>
    </article>
  </main>
  <footer class="site-footer">
    <span>数据来源：<a href="https://jiangranlv.github.io/robotics_arXiv_daily/" target="_blank">Robotics arXiv Daily</a></span>
    <span>由 GitHub Actions 自动更新 · AI 摘要仅供参考</span>
  </footer>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
    onload="renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false}],throwOnError:false})"></script>
</body>
</html>